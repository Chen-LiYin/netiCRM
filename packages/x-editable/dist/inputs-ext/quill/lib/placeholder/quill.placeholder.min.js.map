{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///placeholder-module.min.js","webpack:///webpack/bootstrap 2d24ee0874a3cc40a759","webpack:///./src/placeholder-module.ts","webpack:///./src/placeholder-blot.ts"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","getPlaceholderModule","Quill","options","Parchment","import","PlaceholderBlot","placeholder_blot_1","default","className","register","PlaceholderModule","quill","_this","onTextChange","_","oldDelta","source","sources","USER","currrentContents","getContents","delta","diff","ops","filter","op","insert","placeholder","required","length","updateContents","SILENT","onClick","ev","blot","find","target","parentNode","index","getIndex","setSelection","toolbarHandler","identifier","selection","getSelection","placeholders","pl","id","Error","deleteText","insertEmbed","delimiters","getModule","addHandler","addEventListener","on","value","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","getPlaceholderBlot","Embed","_Embed","getPrototypeOf","apply","arguments","_createClass","key","domNode","dataset","_get","node","setAttribute","label","labelNode","document","createTextNode","version","wrapper","createElement","appendChild","blotName","tagName","defineProperties","props","descriptor","protoProps","staticProps","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent"],"mappings":"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","file":"placeholder-module.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PlaceholderModule\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlaceholderModule\"] = factory();\n\telse\n\t\troot[\"PlaceholderModule\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PlaceholderModule\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlaceholderModule\"] = factory();\n\telse\n\t\troot[\"PlaceholderModule\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar placeholder_blot_1 = __webpack_require__(1);\nfunction getPlaceholderModule(Quill, options) {\n    var Parchment = Quill.import('parchment');\n    var PlaceholderBlot = placeholder_blot_1.default(Quill);\n    PlaceholderBlot.className = options && options.className || 'ql-placeholder-content';\n    Quill.register(PlaceholderBlot);\n\n    var PlaceholderModule = function PlaceholderModule(quill, options) {\n        var _this = this;\n\n        _classCallCheck(this, PlaceholderModule);\n\n        this.quill = quill;\n        this.onTextChange = function (_, oldDelta, source) {\n            if (source === Quill.sources.USER) {\n                var currrentContents = _this.quill.getContents();\n                var delta = currrentContents.diff(oldDelta);\n                var shouldRevert = delta.ops.filter(function (op) {\n                    return op.insert && op.insert.placeholder && op.insert.placeholder.required;\n                }).length;\n                if (shouldRevert) {\n                    _this.quill.updateContents(delta, Quill.sources.SILENT);\n                }\n            }\n        };\n        this.onClick = function (ev) {\n            var blot = Parchment.find(ev.target.parentNode);\n            if (blot instanceof PlaceholderBlot) {\n                var index = _this.quill.getIndex(blot);\n                _this.quill.setSelection(index, blot.length(), Quill.sources.USER);\n            }\n        };\n        this.toolbarHandler = function (identifier) {\n            var selection = _this.quill.getSelection();\n            var placeholder = _this.placeholders.filter(function (pl) {\n                return pl.id === identifier;\n            })[0];\n            if (!placeholder) throw new Error(\"Missing placeholder for \" + identifier);\n            _this.quill.deleteText(selection.index, selection.length);\n            _this.quill.insertEmbed(selection.index, 'placeholder', placeholder, Quill.sources.USER);\n            _this.quill.setSelection(selection.index + 1, 0);\n        };\n        this.placeholders = options.placeholders;\n        PlaceholderBlot.delimiters = options.delimiters || ['{', '}'];\n        this.quill.getModule('toolbar').addHandler('placeholder', this.toolbarHandler);\n        this.quill.root.addEventListener('click', this.onClick);\n        this.quill.on('text-change', this.onTextChange);\n    };\n\n    return PlaceholderModule;\n}\nexports.default = getPlaceholderModule;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getPlaceholderBlot(Quill) {\n    var Embed = Quill.import('blots/embed');\n\n    var PlaceholderBlot = function (_Embed) {\n        _inherits(PlaceholderBlot, _Embed);\n\n        function PlaceholderBlot() {\n            _classCallCheck(this, PlaceholderBlot);\n\n            return _possibleConstructorReturn(this, (PlaceholderBlot.__proto__ || Object.getPrototypeOf(PlaceholderBlot)).apply(this, arguments));\n        }\n\n        _createClass(PlaceholderBlot, [{\n            key: \"length\",\n            value: function length() {\n                return 1;\n            }\n        }, {\n            key: \"deleteAt\",\n            value: function deleteAt(index, length) {\n                if (!this.domNode.dataset.required) _get(PlaceholderBlot.prototype.__proto__ || Object.getPrototypeOf(PlaceholderBlot.prototype), \"deleteAt\", this).call(this, index, length);\n            }\n        }], [{\n            key: \"create\",\n            value: function create(value) {\n                var node = _get(PlaceholderBlot.__proto__ || Object.getPrototypeOf(PlaceholderBlot), \"create\", this).call(this, value);\n                if (value.required) node.setAttribute('data-required', 'true');\n                node.setAttribute('data-id', value.id);\n                node.setAttribute('data-label', value.label);\n                node.setAttribute('spellcheck', 'false');\n                var delimiters = PlaceholderBlot.delimiters;\n\n                var label = typeof delimiters === 'string' ? \"\" + delimiters + value.label + delimiters : \"\" + delimiters[0] + value.label + (delimiters[1] || delimiters[0]);\n                var labelNode = document.createTextNode(label);\n                if (Quill.version < '1.3') {\n                    var wrapper = document.createElement('span');\n                    wrapper.setAttribute('contenteditable', 'false');\n                    wrapper.appendChild(labelNode);\n                    node.appendChild(wrapper);\n                } else {\n                    node.appendChild(labelNode);\n                }\n                return node;\n            }\n        }, {\n            key: \"value\",\n            value: function value(domNode) {\n                return domNode.dataset;\n            }\n        }]);\n\n        return PlaceholderBlot;\n    }(Embed);\n\n    PlaceholderBlot.blotName = 'placeholder';\n    PlaceholderBlot.tagName = 'span';\n    return PlaceholderBlot;\n}\nexports.default = getPlaceholderBlot;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// placeholder-module.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2d24ee0874a3cc40a759","import * as QuillTypes from 'quill'\nimport {default as ParchmentTypes} from 'parchment'\n\nimport getPlaceholderBlot from './placeholder-blot'\nimport {Placeholder} from './placeholder'\nimport {ModuleOptions} from './module-options'\n\nexport interface ModuleType {\n  new(quill: QuillTypes.Quill, options: ModuleOptions): any\n}\n\nexport default function getPlaceholderModule(Quill: QuillTypes.Quill, options?: {\n  className?: string\n}): ModuleType {\n  const Parchment: typeof ParchmentTypes = Quill.import('parchment')\n\n  const PlaceholderBlot = getPlaceholderBlot(Quill)\n  PlaceholderBlot.className = options && options.className || 'ql-placeholder-content'\n\n  Quill.register(PlaceholderBlot)\n\n  class PlaceholderModule {\n    private placeholders: Array<Placeholder>\n\n    constructor(private quill: QuillTypes.Quill, options: ModuleOptions) {\n      this.placeholders = options.placeholders\n      PlaceholderBlot.delimiters = options.delimiters || ['{', '}']\n\n      this.quill.getModule('toolbar').addHandler('placeholder', this.toolbarHandler)\n      this.quill.root.addEventListener('click', <EventListener>this.onClick)\n      this.quill.on('text-change', this.onTextChange)\n    }\n\n    onTextChange = (_: any, oldDelta: QuillTypes.DeltaStatic, source: QuillTypes.Sources) => {\n      if (source === Quill.sources.USER) {\n        const currrentContents = this.quill.getContents()\n        const delta = currrentContents.diff(oldDelta)\n\n        const shouldRevert = delta.ops.filter(op => op.insert &&\n          op.insert.placeholder && op.insert.placeholder.required).length\n\n        if (shouldRevert) {\n          this.quill.updateContents(delta, Quill.sources.SILENT)\n        }\n      }\n    }\n\n    onClick = (ev: QuillTypes.EditorEvent) => {\n      const blot = Parchment.find(ev.target.parentNode)\n\n      if (blot instanceof PlaceholderBlot) {\n        const index = this.quill.getIndex(blot)\n        this.quill.setSelection(index, blot.length(), Quill.sources.USER)\n      }\n    }\n\n    toolbarHandler = (identifier: string) => {\n      const selection = this.quill.getSelection()\n      const placeholder = this.placeholders.filter((pl: Placeholder) => pl.id === identifier)[0]\n      if (!placeholder) throw new Error(`Missing placeholder for ${identifier}`)\n\n      this.quill.deleteText(selection.index, selection.length)\n      this.quill.insertEmbed(selection.index, 'placeholder', placeholder, Quill.sources.USER)\n      this.quill.setSelection(selection.index + 1, 0)\n    }\n  }\n\n  return PlaceholderModule\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/placeholder-module.ts","import * as QuillTypes from 'quill'\nimport {default as ParchmentTypes} from 'parchment'\n\nimport {Placeholder} from './placeholder'\n\nexport default function getPlaceholderBlot(Quill: QuillTypes.Quill): any {\n  const Embed: typeof ParchmentTypes.Embed = Quill.import('blots/embed')\n\n  class PlaceholderBlot extends Embed {\n    static blotName = 'placeholder'\n    static tagName = 'span'\n    static className: string\n    static delimiters: Array<string>\n    public domNode: HTMLElement\n\n    static create(value: Placeholder) {\n      let node: HTMLElement = <HTMLElement>super.create(value)\n\n      if (value.required) node.setAttribute('data-required', 'true')\n      node.setAttribute('data-id', value.id)\n      node.setAttribute('data-label', value.label)\n      node.setAttribute('spellcheck', 'false')\n\n      const {delimiters} = PlaceholderBlot\n      const label = typeof delimiters === 'string' ?\n        `${delimiters}${value.label}${delimiters}` :\n        `${delimiters[0]}${value.label}${delimiters[1] || delimiters[0]}`\n\n      const labelNode = document.createTextNode(label)\n\n      if (Quill.version < '1.3') {\n        const wrapper = document.createElement('span')\n        wrapper.setAttribute('contenteditable', 'false')\n        wrapper.appendChild(labelNode)\n\n        node.appendChild(wrapper)\n      } else {\n        node.appendChild(labelNode)\n      }\n\n\n      return node\n    }\n\n    static value(domNode: HTMLElement): DOMStringMap {\n      return domNode.dataset\n    }\n\n    length(): number {\n      return 1\n    }\n\n    deleteAt(index: number, length: number): void {\n      if (!this.domNode.dataset.required)\n        super.deleteAt(index, length)\n    }\n  }\n\n  return PlaceholderBlot\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/placeholder-blot.ts"],"sourceRoot":""}